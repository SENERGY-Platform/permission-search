{
	"ServerPort":		          "8080",
	"LogLevel":		              "CALL",

	"PermTopic": "permissions",
	"UserTopic": "user",

    "ZookeeperUrl": "zk:2181",
    "GroupId": "permsearch",

	"ForceUser": "true",
	"ForceAuth": "true",

    "ElasticUrl": "http://elastic:9200",
    "ElasticRetry": 3,

    "ConsumptionPause": "false",

	"Resources": {
		"processmodel":{
            "Features":[
                {"Name": "name", "Path": "$.processmodel.process.definitions.process._id+"},
                {"Name": "date", "Path": "$.processmodel.date+"},
                {"Name": "svgXML", "Path": "$.processmodel.svgXML+"},
                {"Name": "publish", "Path": "$.processmodel.publish+"},
                {"Name": "parent_id", "Path": "$.processmodel.parent_id+"},
                {"Name": "description", "Path": "$.processmodel.description+"}
            ],
            "InitialGroupRights":{"admin": "rwxa"}
        },
		"devices":{
            "Features":[
                {"Name": "name", "Path": "$.device_instance.name+"},
                {"Name": "device-type", "Path": "$.device.device_type+"},
                {"Name": "local_id", "Path": "$.device.local_id+"}
            ],
            "InitialGroupRights":{"admin": "rwxa"}
        },
		"device-types":{
            "Features":[
                {"Name": "name", "Path": "$.device_type.name+"},
                {"Name": "description", "Path": "$.device_type.description+"},
                {"Name": "service", "Path": "$.device_type.services[*].id+"},
                {"Name": "device_class", "Path": "$.device_type.device_class.name+"},
                {"Name": "image", "Path": "$.device_type.image+"}
            ],
            "InitialGroupRights":{"admin": "rwxa", "user": "rx"}
        },
        "hubs": {
            "Features": [
                {"Name": "name", "Path": "$.name+"},
                {"Name": "device_local_ids", "Path": "$.device_local_ids+"}
            ],
            "InitialGroupRights":{"admin": "rwxa"}
        }
	},
    "InitialGroupRightsUpdate": "false",

    "ElasticMapping": {
        "device-types": {
            "description":  {"type": "text", "copy_to": "feature_search"},
            "name":         {"type": "keyword", "copy_to": "feature_search"},
            "service":      {"type": "keyword"},
            "image":          {"type": "keyword"},
            "device_class":          {"type": "keyword"}
        },
        "processmodel":{
            "name":         {"type": "keyword", "copy_to": "feature_search"},
            "date":         {"type": "date"},
            "publish":      {"type": "boolean"},
            "parent_id":    {"type": "keyword"}
        },
        "devices":{
            "name":         {"type": "keyword", "copy_to": "feature_search"},
            "description":  {"type": "text",    "copy_to": "feature_search"},
            "device-type":   {"type": "keyword"},
            "local_id":          {"type": "keyword"}
        },
        "hubs":{
            "name":         {"type": "keyword", "copy_to": "feature_search"},
            "device_local_ids":      {"type": "keyword"}
        }
    }
}