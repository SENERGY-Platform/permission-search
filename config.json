{
	"ServerPort":		          "8080",
	"LogLevel":		              "CALL",

	"PermTopic": "permissions",
	"UserTopic": "user",

    "ZookeeperUrl": "zk:2181",
    "GroupId": "permsearch",

	"ForceUser": "true",
	"ForceAuth": "true",

    "ElasticUrl": "http://elastic:9200",
    "ElasticRetry": 3,

    "ConsumptionPause": "false",

	"Resources": {
        "concepts": {
            "Features":[
                {"Name": "name", "Path": "$.concept.name+"}
            ],
            "InitialGroupRights":{"admin": "rwxa", "user": "rx"}
        },
        "characteristics": {
            "Features":[
                {"Name": "name", "Path": "$.characteristic.name+"},
                {"Name": "concept_id", "Path": "$.concept_id+"}
            ],
            "InitialGroupRights":{"admin": "rwxa", "user": "rx"}
        },
		"processmodel":{
            "Features":[
                {"Name": "name", "Path": "$.processmodel.process.definitions.process._id+"},
                {"Name": "date", "Path": "$.processmodel.date+"},
                {"Name": "svgXML", "Path": "$.processmodel.svgXML+"},
                {"Name": "publish", "Path": "$.processmodel.publish+"},
                {"Name": "parent_id", "Path": "$.processmodel.parent_id+"},
                {"Name": "description", "Path": "$.processmodel.description+"}
            ],
            "InitialGroupRights":{"admin": "rwxa"}
        },
		"devices":{
            "Features":[
                {"Name": "name", "Path": "$.device.name+"},
                {"Name": "device_type_id", "Path": "$.device.device_type_id+"},
                {"Name": "local_id", "Path": "$.device.local_id+"}
            ],
            "InitialGroupRights":{"admin": "rwxa"}
        },
		"device-types":{
            "Features":[
                {"Name": "name", "Path": "$.device_type.name+"},
                {"Name": "description", "Path": "$.device_type.description+"},
                {"Name": "service", "Path": "$.device_type.services[*].id+"},
                {"Name": "protocols", "Path": "$.device_type.services[*].protocol_id+"},
                {"Name": "device_class", "Path": "$.device_type.device_class.name+"},
                {"Name": "image", "Path": "$.device_type.image+"}
            ],
            "InitialGroupRights":{"admin": "rwxa", "user": "rx"}
        },
        "hubs": {
            "Features": [
                {"Name": "name", "Path": "$.name+"},
                {"Name": "device_local_ids", "Path": "$.device_local_ids+"}
            ],
            "InitialGroupRights":{"admin": "rwxa"}
        },
        "protocols": {
            "Features":[
                {"Name": "name", "Path": "$.protocol.name+"},
                {"Name": "handler", "Path": "$.protocol.handler+"},
                {"Name": "segments", "Path": "$.protocol.protocol_segments[*].name+"}
            ],
            "InitialGroupRights":{"admin": "rwxa", "user": "rx"}
        }
	},
    "InitialGroupRightsUpdate": "false",

    "ElasticMapping": {
        "concepts": {
            "name":   {"type": "keyword", "copy_to": "feature_search"}
        },
        "characteristics": {
            "name":                 {"type": "keyword", "copy_to": "feature_search"},
            "concept_id":           {"type": "keyword"}
        },
        "device-types": {
            "description":  {"type": "text", "copy_to": "feature_search"},
            "name":         {"type": "keyword", "copy_to": "feature_search"},
            "service":      {"type": "keyword"},
            "protocols":    {"type": "keyword"},
            "image":        {"type": "keyword"},
            "device_class": {"type": "keyword"}
        },
        "processmodel":{
            "name":         {"type": "keyword", "copy_to": "feature_search"},
            "date":         {"type": "date"},
            "publish":      {"type": "boolean"},
            "parent_id":    {"type": "keyword"}
        },
        "devices":{
            "name":         {"type": "keyword", "copy_to": "feature_search"},
            "description":  {"type": "text",    "copy_to": "feature_search"},
            "device_type_id":  {"type": "keyword"},
            "local_id":     {"type": "keyword"}
        },
        "protocols":{
            "name":     {"type": "keyword", "copy_to": "feature_search"},
            "handler":  {"type": "keyword"},
            "segments":  {"type": "keyword"}
        },
        "hubs":{
            "name":         {"type": "keyword", "copy_to": "feature_search"},
            "device_local_ids":      {"type": "keyword"}
        }
    }
}